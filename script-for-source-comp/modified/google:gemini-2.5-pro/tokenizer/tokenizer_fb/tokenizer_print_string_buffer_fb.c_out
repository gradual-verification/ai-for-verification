struct tokenizer
{
charreader*           next_char;
int                   lastread;
int                   lasttoken;
struct string_buffer* buffer;
};
typedef int charreader();
void print_string_buffer(struct string_buffer *buffer)
{
int n = string_buffer_get_length(buffer);
char *pcs = string_buffer_get_chars(buffer);
int i;
for (i = 0; i < n; i++)
{
putchar(pcs[i]);
}
string_buffer_merge_chars(buffer);
}