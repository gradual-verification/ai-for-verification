struct cell {
int x;
struct mutex* mutex;
};
void increment(struct cell* c)
{
mutex_acquire(c->mutex);
if (c->x == INT_MAX) {
abort();
}
c->x++;
mutex_release(c->mutex);
}