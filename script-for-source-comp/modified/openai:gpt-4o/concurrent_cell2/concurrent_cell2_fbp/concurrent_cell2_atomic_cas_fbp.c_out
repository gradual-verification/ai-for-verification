int atomic_cas(int* c, int old, int new);
int atomic_cas(int* c, int old, int new) {
int current = *c;
if (current == old) {
*c = new;
return new;
} else {
return current;
}
}