struct thread;
typedef void thread_run(void *data);
struct thread *thread_start(void *run, void *data)
{
struct thread *t = malloc(sizeof(struct thread));
if (t == 0) abort();
return t;
}