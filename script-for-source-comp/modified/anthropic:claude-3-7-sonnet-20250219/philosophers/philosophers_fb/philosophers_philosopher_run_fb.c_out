struct philosopher {
struct lock *fork1;
struct lock *fork2;
};
void philosopher_run(void *data)
{
struct philosopher *philosopher = data;
struct lock *fork1 = philosopher->fork1;
struct lock *fork2 = philosopher->fork2;
while (true)
{
lock_acquire(fork1);
lock_acquire(fork2);
lock_release(fork2);
lock_release(fork1);
}
}
